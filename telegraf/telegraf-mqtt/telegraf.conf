# # Generated at 2025-09-21T15:51:18.697767
# # Telegraf Configuration for MQTT Inputs
# # Generated from CSV file

# ###############################################################################
# #                            AGENT SETTINGS                                   #
# ###############################################################################

[agent]
interval = "10s"
round_interval = true
metric_batch_size = 1000
metric_buffer_limit = 10000
collection_jitter = "0s"
flush_interval = "10s"
flush_jitter = "0s"
precision = ""
hostname = ""
omit_hostname = true

# ###############################################################################
# #                            INPUT PLUGINS                                    #
# ###############################################################################

# # Read data from MQTT topics

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/PlantDemo_TestInput1"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/PlantDemo_TestInput2"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/PlantDemo_TestInput3"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/PlantDemo_TestInput4"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/factory/oee/performance"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/factory/oee/quality"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/factory/oee/oee"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

[[inputs.mqtt_consumer]]
servers = ["tcp://mosquitto:1883"]
topics = ["telegraf/opcua/factory/sensors/cncTemperature/1"]
name_override = "opcua"
topic_tag = "mqtt_topic"
data_format = "value"
data_type = "float"

# ###############################################################################
# #                            OUTPUT PLUGINS                                   #
# ###############################################################################

# # --- InfluxDB v2 Output ---

[[outputs.influxdb_v2]]
urls = ["http://influxdb:8086"]
token = "$DOCKER_INFLUXDB_INIT_ADMIN_TOKEN"
organization = "$DOCKER_INFLUXDB_INIT_ORG"
bucket = "mqttinput"
